{
  "$schema": "https://lnav.org/schemas/format-v1.schema.json",
  "nvim_lsp": {
    "title": "Nvim Lsp Log Format",
    "description": "Log format used by nvim lsp client",
    "regex": {
      "basic": {
        "pattern": "^\\[(?<level>\\w+)\\]\\[(?<timestamp>\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2})\\]\\s(?<source>.+?:\\d+)\\s*(?<method>\".+?\"\\s*)*(?<body>{.*})(?<tail>.*)$"
      }
    },
    "ordered-by-time": true,
    "file-pattern": "lsp.log",
    "level": {
      "debug": "DEBUG",
      "error": "ERROR",
      "warning": "WARN",
      "info": "START|INFO"
    },
    "value": {
      "source": {
        "kind": "string",
        "identifier": true
      },
      "body": {
        "kind": "json"
      },
      "method": {
        "kind": "string"
      },
      "tail": {
        "kind": "string"
      }
    },
    "multiline": true,
    "sample": [
      {
        "line": "[DEBUG][2025-02-15 13:42:31] ...m/lsp/client.lua:678 \"LSP[tsserver]\" \"client.request\" 3 \"textDocument/documentHighlight\" {  position = {    character = 17,    line = 6  },  textDocument = {    uri = \"file:///home/ogurczak/ws/mst/proj/server/src/routes/+page.server.ts\"  }} <function 1> 6"
      }
    ]
  }
}
